<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.5044149beca439b3932b.css" id="gatsby-global-css">.tl-edges{max-width:100%;overflow-x:hidden}.tl-wrapper{float:left;position:relative;width:100%}.tl-wrapper+.tl-wrapper{margin-left:-100%;margin-right:0}:root{--color1:#14274e;--color2:#394867;--color3:#004a7c;--color4:#f1f6f9;--linkColor:#14ffec;--linkHoverColor:#fcbf1e;--lightTextColor:hsla(0,0%,100%,0.8)}*,:after,:before{box-sizing:border-box;margin:0;padding:0}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth}body{align-items:center;background-color:var(--color1);color:var(--color4);display:flex;flex-direction:column;font-family:Poppins,sans-serif;font-size:clamp(16px,1vw,20px);font-weight:400;justify-content:center;line-height:1.4;width:100%}h1,h2,h3,h4{font-weight:700}h1,h2,h3,h4{font-family:Raleway,sans-serif}h1{font-size:clamp(32px,2vw,40px);text-align:center}h2{font-size:clamp(24px,1.5vw,28px)}h3{font-size:clamp(18.72px,1.2vw,22.72px)}h4{font-size:clamp(16px,1vw,20px)}a{color:var(--color4);text-decoration:none}p a{color:var(--linkColor)}a:hover{color:var(--linkHoverColor)}ul>li{list-style:none}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.Bio-module--Bio--cVltH{margin:3em 0}.Bio-module--contactList--2yOcd{align-items:center;display:flex;flex-direction:row;justify-content:space-between;margin:.3em 0;width:100px}.Bio-module--contactList--2yOcd a{color:var(--color4)}.Header-module--mainPageHeader--HJhR2{margin:4em 0}.Header-module--Header--312NW{font-style:italic;margin:0 0 1em}.Header-module--Header--312NW h2{font-size:clamp(16px,1vw,20px)}.Header-module--Header--312NW h2,.Header-module--mainPageHeader--HJhR2 h1{text-decoration:underline;-webkit-text-decoration-color:var(--color4);text-decoration-color:var(--color4)}.Header-module--Header--312NW h2:hover,.Header-module--mainPageHeader--HJhR2 h1:hover{-webkit-text-decoration-color:var(--linkHoverColor);text-decoration-color:var(--linkHoverColor)}@media (max-width:500px){.Header-module--mainPageHeader--HJhR2{margin:2em 0}.Header-module--Header--312NW{margin:.5em 0 1em}}.Footer-module--Footer--2-jpK{align-items:center;display:flex;flex-direction:column;font-size:clamp(14px,.8vw,16px);justify-content:space-between;text-align:center;width:100%}.Footer-module--Footer--2-jpK hr{background-color:var(--color4);border:none;height:.4em;margin-bottom:1em;width:var(--screenWidth)}.Footer-module--footerContentList--347sj li{margin-bottom:.5em}.Layout-module--globalWrapper--20vHN{align-items:center;display:flex;flex-direction:column;justify-content:center;overflow-x:hidden;padding:1em;width:var(--screenWidth)}.Layout-module--contentWrapper--229Kh{height:max(100vh,100%);max-width:800px;min-height:100vh;padding-bottom:4em;width:100%}@media (max-width:500px){.Layout-module--contentWrapper--229Kh{padding-bottom:3em}}.index-module--blogList--2pyoy{list-style:none}.index-module--blogListEntry--knWqf{margin-bottom:2.5em}.index-module--blogDescription--TNdRP header{margin-bottom:.5em}.index-module--blogDescription--TNdRP header>.index-module--blogDate--1oOKM{font-style:italic}.index-module--blogExcerpt--29Zd9{color:var(--lightTextColor)}.index-module--noPostsText--2mlQM{text-align:center}.BlogPostTmpl-module--articleHeader--QL_c_{margin-bottom:1.5em;text-align:left}.BlogPostTmpl-module--articleHeader--QL_c_ h1{margin-bottom:.1em;text-align:left}.BlogPostTmpl-module--blogDate--23nNX{font-style:italic}.BlogPostTmpl-module--blogNav--1WblS{margin-top:3em}.BlogPostTmpl-module--blogNav--1WblS>ul{align-content:center;display:flex;flex-direction:row;font-style:italic;justify-content:space-between}@media (max-width:500px){.BlogPostTmpl-module--articleHeader--QL_c_{margin-bottom:1em}.BlogPostTmpl-module--blogNav--1WblS{margin-top:2em}}.BlogPostTmpl-module--mdWrapper--3k8Me>*{margin:1em 0}.BlogPostTmpl-module--mdWrapper--3k8Me>ol,.BlogPostTmpl-module--mdWrapper--3k8Me>ul{margin-left:1em}.BlogPostTmpl-module--mdWrapper--3k8Me li{list-style:initial;margin:.5em 0}.BlogPostTmpl-module--mdWrapper--3k8Me h1{text-align:left}.BlogPostTmpl-module--mdWrapper--3k8Me table{border-collapse:collapse;border-spacing:.25rem;width:100%}.BlogPostTmpl-module--mdWrapper--3k8Me table thead tr th{border-bottom:1px solid var(--color2)}.BlogPostTmpl-module--mdWrapper--3k8Me blockquote{border-left:.4em solid var(--color3);color:var(--lightTextColor);font-style:italic;padding:0 0 0 1em}.BlogPostTmpl-module--mdWrapper--3k8Me blockquote>:not(li){margin:1em 0}.BlogPostTmpl-module--mdWrapper--3k8Me blockquote>ol,.BlogPostTmpl-module--mdWrapper--3k8Me blockquote>ul{margin-left:1em}.BlogPostTmpl-module--mdWrapper--3k8Me blockquote li{margin:.5em 0}@media (max-width:500px){.BlogPostTmpl-module--mdWrapper--3k8Me blockquote{border-left:.3em solid var(--color3);padding:0 0 0 .5em}}</style><meta name="generator" content="Gatsby 3.6.0"/><link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,400i,700|Raleway:500,700&amp;display=swap" rel="stylesheet"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">Patching XFSTESTS file system regression testing suite for FUSE support | Bhumit&#x27;s blog</title><meta data-react-helmet="true" name="description" content="Adding FUSE support to XFSTESTS file system regression testing suite as a part of my Google Summer of Code project."/><meta data-react-helmet="true" property="og:title" content="Patching XFSTESTS file system regression testing suite for FUSE support"/><meta data-react-helmet="true" property="og:description" content="Adding FUSE support to XFSTESTS file system regression testing suite as a part of my Google Summer of Code project."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="/card-image.png"/><meta data-react-helmet="true" property="og:image:width" content="1200"/><meta data-react-helmet="true" property="og:image:height" content="630"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="BhumitAttarde"/><meta data-react-helmet="true" name="twitter:title" content="Patching XFSTESTS file system regression testing suite for FUSE support"/><meta data-react-helmet="true" name="twitter:description" content="Adding FUSE support to XFSTESTS file system regression testing suite as a part of my Google Summer of Code project."/><style type="text/css">svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}</style><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=21561b857026aba3cf0b89e927556982" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#ffffff"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=21561b857026aba3cf0b89e927556982"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=21561b857026aba3cf0b89e927556982"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=21561b857026aba3cf0b89e927556982"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=21561b857026aba3cf0b89e927556982"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=21561b857026aba3cf0b89e927556982"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=21561b857026aba3cf0b89e927556982"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=21561b857026aba3cf0b89e927556982"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=21561b857026aba3cf0b89e927556982"/><link as="script" rel="preload" href="/webpack-runtime-6c3bd6e1e6e4aa8c44b4.js"/><link as="script" rel="preload" href="/framework-8813c4f09f5774062db5.js"/><link as="script" rel="preload" href="/app-7e4dddaf8fef3380c954.js"/><link as="script" rel="preload" href="/cb1608f2-494b3894c196db1f8db4.js"/><link as="script" rel="preload" href="/a9a7754c-76e65e150111a0ed8950.js"/><link as="script" rel="preload" href="/commons-a99702bbb799fd3b25b2.js"/><link as="script" rel="preload" href="/component---src-templates-js-blog-post-tmpl-js-da3b1a28b13de55a36ee.js"/><link as="fetch" rel="preload" href="/page-data/patching-xfstest-for-fuse-support/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1329798732.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3438038043.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="tl-edges"><div class="tl-wrapper tl-wrapper--mount tl-wrapper-status--entered" style="z-index:1;opacity:1"><div class="Layout-module--globalWrapper--20vHN"><div class="Layout-module--contentWrapper--229Kh"><header class="Header-module--Header--312NW"><h2><a direction="right" bg="#14274e" href="/">Bhumit&#x27;s blog</a></h2></header><main><article itemscope="" itemType="http://schema.org/Article"><header class="BlogPostTmpl-module--articleHeader--QL_c_"><h1 itemProp="headline">Patching XFSTESTS file system regression testing suite for FUSE support</h1><small class="BlogPostTmpl-module--blogDate--23nNX">July 12, 2021</small></header><main class="BlogPostTmpl-module--mdWrapper--3k8Me" itemProp="articleBody"><!-- # Patching XFSTESTS file system regression testing suite for FUSE support -->
<h2>Introduction</h2>
<p>Hello everyone! I’ve been working as a student software developer for <a href="https://summerofcode.withgoogle.com/">Google Summer of Code</a> at <a href="https://kde.org/">KDE</a> (<a href="https://invent.kde.org/system/kio-fuse">KIO-FUSE</a>) since past couple months and thought it’d be nice to share the progress made. This particular blog is supposed to give readers a rough overview of what <a href="https://github.com/libfuse/libfuse">FUSE</a>, <a href="https://invent.kde.org/system/kio-fuse">KIO-FUSE</a>, <a href="https://git.kernel.org/pub/scm/fs/xfs/xfstests-dev.git/">XFSTESTS</a> are, why we’re trying to integrate them, how far we’ve managed to come, and more important, to announce that it is finally possible to test FUSE file systems using XFSTESTS without ugly hacks!</p>
<h2>Need for file system testing</h2>
<p>File systems are one of the most critical parts of an operating system and the role played by them to ensure bug free experience as well as high reliability, and consistency is pretty important. Compared to other areas of an operating system, filesystems particularly need to be as bug free as possible to avoid disastrous events like corruption of a critical file. To make matters worse, the corruption may be replicated in the backups, effectively rendering the damaged data irreparable.</p>
<p>File systems evolve constantly to complement the ever-changing technological landscape. They add new features, modify existing ones, try to introduce unique concepts making the codebase increasingly complex and sometimes unstable. Which, in turn, leads to a plethora of bugs — like most software. What makes this problem particularly exasperating when dealing with file systems is the fact that finding and fixing bugs in file systems is very hard, evident from the fact that 50% of the file system bugs take more than a year to be fixed.<sup><a href="https://dl.acm.org/doi/10.1145/2619090">ref</a></sup> This makes thoroughly testing file systems and associated programs a high priority affair. Unfortunately and to no one’s surprise, testing file systems is very hard as well. <a href="https://www.jstage.jst.go.jp/article/transinf/E102.D/2/E102.D_2018EDP7006/_article/-char/en">Learning from XFSTESTS (N Aota, K Kono)</a> does a very good job of explaining the reasons behind it.</p>
<h2>What are FUSE, KIO-FUSE and XFSTESTS?</h2>
<h3>FUSE</h3>
<p>FUSE stands for ‘Filesystem in USErspace’. FUSE let’s you create your own file systems without ever having to touch kernel code! Pretty neat, right? It does this by essentially acting as a bridge between your file system logic and kernel operations. A lot of innovative FUSE file systems exist, visit <a href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace#Applications">this WikiPedia link</a> to see some of the popular ones.</p>
<h3>KIO-FUSE</h3>
<p><a href="https://api.kde.org/frameworks/kio/html/">KIO</a> is a KDE framework that provides and implements abstractions for accessing various types of (virtual) file systems in a cross-platform way. KIO-FUSE is a project by Fabian Vogt that lets you mount remote locations on your machine locally using FUSE. KIO-FUSE was later polished by feverfew (Alexander Saoutkin) and finally inducted as an official KDE project. Check out <a href="https://feverfew.home.blog/">feverfew’s blog</a> to read more about the process and KIO-FUSE itself.</p>
<h3>(X)FSTESTS</h3>
<p>XFSTESTS is a filesystem regression test suite originally developed for <a href="https://en.wikipedia.org/wiki/XFS">XFS</a>. XFSTESTS is used as a file system regression testing suite for all of Linux’s major file systems. Many file system maintainers require that any major changes be tested using XFSTESTS before they are submitted for integration. <sup><a href="https://kernel.googlesource.com/pub/scm/fs/ext2/xfstests-bld/+/HEAD/Documentation/what-is-xfstests.md">ref</a></sup></p>
<h2>FUSE support for XFSTESTS and its impact</h2>
<p>XFSTESTS previously did not support FUSE file systems. A patch was submitted for doing so, but it was <em>sort of</em> hack-y and was abandoned midway.
Main goal of <a href="https://summerofcode.withgoogle.com/projects/#6429306361741312">the GSoC project</a> is to integrate XFSTESTS with KIO-FUSE for detecting stealthy bugs. Now, this could’ve been achieved without patching XFSTESTS for generic FUSE support, but we decided it’d be better to do so for the benefit of multiple open-source projects. A lot of FUSE file systems could potentially be tested and we’d marginally improve the health of the file systems ecosystem.</p>
<p>So, I patched XFSTESTS to support FUSE file systems. This is significant because it’d allow dozens of existing and any upcoming FUSE file systems that can be mounted like <code class="language-text">mount -t ...</code> to be regression tested. XFSTESTS evaluation can be used to fix the detected bugs which probably would have went unnoticed otherwise. This will inherently lead to more robust FUSE file systems. Development speed should see a fair amount of bump too since buggy patches will be automatically weeded out before they’re merged.</p>
<h2>The patch</h2>
<p>As mentioned earlier, I’m deliberately keeping technical details out of this post in an attempt to make the content more accessible to people who aren’t familiar with FUSE or file systems in general.</p>
<p>You can find the patch <a href="https://github.com/bhumitattarde/XFSTESTS-FUSE-patch">here</a>. Instructions for testing can be found in the <code class="language-text">README.fuse</code> file. The patch is based on a (previously submitted and) now abandoned <a href="https://patchwork.kernel.org/project/linux-fsdevel/patch/20200108192504.GA893@miu.piliscsaba.redhat.com/#23160523">patch</a> by Miklos
Szeredi.</p>
<p>Writing the patch itself wasn’t much work but nature of FUSE, XFSTESTS meant a lot of time had to be spent in trial and error. Debugging was a bit harder. I also managed to leave a very silly bug which essentially resulted in XFSTESTS trying to mount the same directory twice. This wasted a couple of days. Fortunately, it was caught by one of my mentors. Afterwards, it was a smooth sail. While the patch was completed in the second week itself, we have held off sending it in case further modifications are required for integrating KIO-FUSE with XFSTESTS.</p>
<h2>Closing thoughts</h2>
<p>Next step would be adding support for KIO-FUSE, sending the patch to XFSTESTS mailing list and making the suggested changes, if any. Shoutout to my mentors — feverfew (Alexander Saoutkin) and Fabian Vogt. They’ve helped me at every step, even before GSoC started, and I appreciate it a lot.</p></main><div class="Bio-module--Bio--cVltH"><p><i>Written by<!-- --> <strong><a href="https://www.bhumit.net">Bhumit Attarde</a></strong></i><ul class="Bio-module--contactList--2yOcd"><li><a href="https://www.linkedin.com/in/bhumitattarde"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a></li><li><a href="https://www.github.com/bhumitattarde"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li><a href="mailto:bhumitattarde2@gmail.com"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="at" class="svg-inline--fa fa-at fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C118.941 8 8 118.919 8 256c0 137.059 110.919 248 248 248 48.154 0 95.342-14.14 135.408-40.223 12.005-7.815 14.625-24.288 5.552-35.372l-10.177-12.433c-7.671-9.371-21.179-11.667-31.373-5.129C325.92 429.757 291.314 440 256 440c-101.458 0-184-82.542-184-184S154.542 72 256 72c100.139 0 184 57.619 184 160 0 38.786-21.093 79.742-58.17 83.693-17.349-.454-16.91-12.857-13.476-30.024l23.433-121.11C394.653 149.75 383.308 136 368.225 136h-44.981a13.518 13.518 0 0 0-13.432 11.993l-.01.092c-14.697-17.901-40.448-21.775-59.971-21.775-74.58 0-137.831 62.234-137.831 151.46 0 65.303 36.785 105.87 96 105.87 26.984 0 57.369-15.637 74.991-38.333 9.522 34.104 40.613 34.103 70.71 34.103C462.609 379.41 504 307.798 504 232 504 95.653 394.023 8 256 8zm-21.68 304.43c-22.249 0-36.07-15.623-36.07-40.771 0-44.993 30.779-72.729 58.63-72.729 22.292 0 35.601 15.241 35.601 40.77 0 45.061-33.875 72.73-58.161 72.73z"></path></svg></a></li><li><a href="https://www.twitter.com/BhumitAttarde"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li></ul></p></div></article><nav class="BlogPostTmpl-module--blogNav--1WblS"><ul><li></li><li><a direction="right" bg="#14274e" rel="next" href="/gsoc-2021-work-product/">Google Summer of Code 2021 final report<!-- --> →</a></li></ul></nav></main></div><footer class="Footer-module--Footer--2-jpK"><hr/><ul class="Footer-module--footerContentList--347sj"><li><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="code" class="svg-inline--fa fa-code fa-w-20 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"></path></svg> with<!-- --> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="heart" class="svg-inline--fa fa-heart fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path></svg> by<!-- --> <a href="https://www.bhumit.net">Bhumit Attarde</a></li><li>© 2021 Bhumit Attarde. All rights reserved.</li></ul></footer></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/patching-xfstest-for-fuse-support/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-4a2add8c4069a53dcac1.js"],"app":["/app-7e4dddaf8fef3380c954.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3f9f754e2595d43331fc.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b5c536fc9ea030989a41.js"],"component---src-templates-js-blog-post-tmpl-js":["/component---src-templates-js-blog-post-tmpl-js-da3b1a28b13de55a36ee.js"]};/*]]>*/</script><script src="/polyfill-4a2add8c4069a53dcac1.js" nomodule=""></script><script src="/component---src-templates-js-blog-post-tmpl-js-da3b1a28b13de55a36ee.js" async=""></script><script src="/commons-a99702bbb799fd3b25b2.js" async=""></script><script src="/a9a7754c-76e65e150111a0ed8950.js" async=""></script><script src="/cb1608f2-494b3894c196db1f8db4.js" async=""></script><script src="/app-7e4dddaf8fef3380c954.js" async=""></script><script src="/framework-8813c4f09f5774062db5.js" async=""></script><script src="/webpack-runtime-6c3bd6e1e6e4aa8c44b4.js" async=""></script></body></html>